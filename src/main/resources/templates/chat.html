<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>i-One Car | 내 견적함</title>
  <link rel="stylesheet" th:href="@{/css/chat.css}">
</head>
<body>
  <div class="container">
    <!-- 헤더 -->
    <div class="header">
      <div class="header-content">
        <span class="app-name">i-One Car</span>
        <span class="separator">|</span>
        <span class="page-title">내 견적함</span>
      </div>
      <span class="close-btn">X</span>
    </div>

    <!-- 네비게이션 -->
    <div class="navigation">
      <span class="back-arrow">&lt;</span>
      <span class="nav-title">채팅하기</span>
    </div>

    <!-- 채팅 영역 -->
    <div class="chat-container">
      <!-- 날짜 구분선 -->
      <div class="date-separator">
        <span>2025년 8월 9일</span>
      </div>

      <!-- 채팅 메시지들 -->
      <div class="message-list">
        <!-- 왼쪽 메시지 (벤츠박사) -->
        <div class="message left-message">
          <div class="profile-pic">
            <img src="/css/images/benz-doctor.png" alt="벤츠박사">
            <div class="verified-badge">✓</div>
          </div>
          <div class="message-content">
            <div class="sender-name">벤츠박사</div>
            <div class="message-bubble">
              Hello!
            </div>
          </div>
        </div>

        <!-- 오른쪽 메시지 (사용자) 
        <div class="message right-message">
          <div class="message-content">
            <div class="message-bubble">
              뭐요
            </div>
          </div>
        </div> -->
      </div>
    </div>

    <!-- 채팅 입력 영역 -->
    <div class="chat-input-container">
      <div class="input-wrapper">
        <input type="text" class="chat-input" placeholder="메시지를 입력하세요...">
        <button class="send-button">→</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const chatInput = document.querySelector('.chat-input');
      const sendButton = document.querySelector('.send-button');
      const messageList = document.querySelector('.message-list');

      // 메시지 전송 함수
      function sendMessage() {
        const messageText = chatInput.value.trim();
        if (messageText) {
          // 새 메시지 생성
          const newMessage = document.createElement('div');
          newMessage.className = 'message right-message';
          newMessage.innerHTML = `
            <div class="message-content">
              <div class="message-bubble">
                ${messageText}
              </div>
            </div>
          `;
          
          // 메시지 리스트에 추가
          messageList.appendChild(newMessage);
          
          // 입력창 초기화
          chatInput.value = '';
          
          // 스크롤을 맨 아래로
          messageList.scrollTop = messageList.scrollHeight;
        }
      }

      // 전송 버튼 클릭
      sendButton.addEventListener('click', sendMessage);

      // Enter 키 입력
      chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          sendMessage();
        }
      });

      // 닫기 버튼
      document.querySelector('.close-btn').addEventListener('click', function() {
        window.close();
      });

      // 뒤로가기 버튼
      document.querySelector('.back-arrow').addEventListener('click', function() {
        window.history.back();
      });
    });
  </script>
</body>
</html> 