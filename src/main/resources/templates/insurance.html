<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i-One Car | 내 견적함</title>
    <link rel="stylesheet" th:href="@{/css/insurance.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- 상단 헤더 -->
        <header class="main-header">
            <h1 class="header-title">i-One Car | 내 견적함</h1>
            <button class="close-btn" onclick="history.back()">
                <img src="/css/images/X.png" alt="닫기" class="close-icon">
            </button>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 제목 섹션 -->
            <div class="title-section">
                <h2 class="main-title">자동차 보험 견적받기</h2>
                <p class="sub-title">i-One Car에서 자동차 보험 견적을 받아보세요</p>
            </div>

            <!-- 자동차 이미지 섹션 -->
            <div class="car-section">
                <div class="car-container">
                    <!-- 할인 아이콘 -->
                    <div class="discount-icon">
                        <span class="discount-text">%</span>
                    </div>
                    
                    <!-- 차량 이미지 (일러스트 스타일) -->
                    <div class="car-illustration">
                        <!-- 자동차 본체 -->
                        <div class="car-body">
                            <!-- 차량 하단 -->
                            <div class="car-bottom"></div>
                            <!-- 차량 상단 -->
                            <div class="car-top">
                                <!-- 앞유리 -->
                                <div class="windshield"></div>
                                <!-- 운전자 -->
                                <div class="driver">
                                    <div class="head"></div>
                                    <div class="body"></div>
                                </div>
                                <!-- 승객 -->
                                <div class="passenger">
                                    <div class="head"></div>
                                    <div class="body"></div>
                                </div>
                            </div>
                            <!-- 바퀴들 -->
                            <div class="wheels">
                                <div class="wheel wheel-left"></div>
                                <div class="wheel wheel-right"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 주변 아이콘들 -->
                    <div class="icon bubble-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#E3F2FD"/>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2" stroke="#1976D2" stroke-width="1.5" stroke-linecap="round"/>
                            <circle cx="9" cy="9" r="1" fill="#1976D2"/>
                            <circle cx="15" cy="9" r="1" fill="#1976D2"/>
                        </svg>
                    </div>
                    
                    <div class="icon wrench-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" fill="#757575"/>
                        </svg>
                    </div>
                    
                    <div class="icon shield-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" fill="#4CAF50"/>
                        </svg>
                    </div>
                    
                    <div class="icon camera-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="4" width="18" height="12" rx="2" fill="#FFC107"/>
                            <circle cx="12" cy="10" r="3" fill="#fff"/>
                            <circle cx="12" cy="10" r="1.5" fill="#FFC107"/>
                        </svg>
                    </div>
                </div>
            </div>
        </main>

        <!-- 하단 버튼 -->
        <div class="bottom-buttons">
            <button class="btn btn-primary" onclick="openModal()">보험 견적 신청하기</button>
        </div>
    </div>

    <!-- 모달 백그라운드 -->
    <div class="modal-backdrop" id="modalBackdrop" onclick="closeModal()"></div>

    <!-- 하단 슬라이드 모달 -->
    <div class="slide-modal" id="slideModal">
        <!-- 모달 헤더 -->
        <div class="modal-header">
            <button class="modal-close-btn" onclick="closeModal()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6L18 18" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>

        <!-- 모달 컨텐츠 -->
        <div class="modal-content">
            <h3 class="modal-title">정보 제공 동의하고<br>보험 견적 받기</h3>
            
            <!-- 동의 항목 -->
            <div class="agreement-section">
                <div class="agreement-item">
                    <span class="agreement-text">보험 상품 조회를위한 제3자 정보제공 동의</span>
                    <svg class="arrow-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 4L10 8L6 12" stroke="#666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>

            <!-- 버튼 그룹 -->
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal()">미동의</button>
                <button class="btn btn-primary" onclick="agreeAndProceed()">동의합니다</button>
            </div>
        </div>
    </div>

    <script>
        function openModal() {
            const modalBackdrop = document.getElementById('modalBackdrop');
            const slideModal = document.getElementById('slideModal');
            
            modalBackdrop.classList.add('active');
            slideModal.classList.add('active');
            
            // 스크롤 방지
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modalBackdrop = document.getElementById('modalBackdrop');
            const slideModal = document.getElementById('slideModal');
            
            modalBackdrop.classList.remove('active');
            slideModal.classList.remove('active');
            
            // 스크롤 복원
            document.body.style.overflow = 'auto';
        }

        function agreeAndProceed() {
            // 동의 완료 후 보험 견적 프로세스 진행
            alert('보험 견적 신청이 진행됩니다.');
            closeModal();
            
            // carSrn 정보를 보험 견적 페이지로 전달
            const urlParams = new URLSearchParams(window.location.search);
            const carSrn = urlParams.get('carSrn');
            
            if (carSrn) {
                // 향후 보험 견적 페이지 경로
                console.log('보험 견적 신청 진행 - carSrn:', carSrn);
            }
        }
    </script>
</body>
</html>
