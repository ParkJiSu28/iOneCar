<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>브랜드 선택</title>
  <link rel="stylesheet" th:href="@{/css/brand.css}" />
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const categoryButtons = document.querySelectorAll('.category-selector button');
      const brandContainers = document.querySelectorAll('.brand-grid');
      const brandCards = document.querySelectorAll('.brand-card');
      const nextButton = document.querySelector('.next-button');
      let selectedBrand = '';

      categoryButtons.forEach(btn => {
        btn.addEventListener('click', function () {
          categoryButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');

          brandContainers.forEach(c => c.style.display = 'none');
          document.getElementById(this.dataset.target).style.display = 'grid';
        });
      });

      brandCards.forEach(card => {
        card.addEventListener('click', function () {
          brandCards.forEach(c => c.classList.remove('selected'));
          this.classList.add('selected');
          nextButton.classList.add('active');
          nextButton.disabled = false;
          
          // 선택된 브랜드의 alt 값을 저장
          const brandImg = this.querySelector('img');
          selectedBrand = brandImg.getAttribute('alt');
        });
      });

      // 다음 버튼 클릭 시 POST 방식으로 브랜드 정보 전송
      nextButton.addEventListener('click', function(e) {
        e.preventDefault();
        
        if (selectedBrand) {
          // POST 방식으로 브랜드 정보를 서버에 전송
          const form = document.createElement('form');
          form.method = 'POST';
          form.action = '/quote/brand';
          
          const brandInput = document.createElement('input');
          brandInput.type = 'hidden';
          brandInput.name = 'brand';
          brandInput.value = selectedBrand;
          
          form.appendChild(brandInput);
          document.body.appendChild(form);
          form.submit();
        }
      });
    });
  </script>
</head>
<body>
  <header>
    <span>i-One Car</span>
    <span style="margin-left: 8px; font-size: 16px; font-weight: normal;">견적신청</span>
    <span style="margin-left: auto; cursor: pointer;">✕</span>
  </header>

  <div class="progress-bar">
    <div class="progress"></div>
  </div>

  <div class="container">
    <div class="title">제조사 선택</div>
    <div class="category-selector">
      <button class="active" data-target="domestic">국산</button>
      <button data-target="foreign">외제</button>
    </div>

    <div id="domestic" class="brand-grid">
      <div class="brand-card"><img src="/css/images/logo/hyundai.png" alt="현대"><span>현대</span></div>
      <div class="brand-card"><img src="/css/images/logo/kia.png" alt="기아"><span>기아</span></div>
      <div class="brand-card"><img src="/css/images/logo/genesis.png" alt="제네시스"><span>제네시스</span></div>
      <div class="brand-card"><img src="/css/images/logo/kgm.png" alt="KGM"><span>KGM</span></div>
      <div class="brand-card"><img src="/css/images/logo/renault.png" alt="르노코리아"><span>르노코리아</span></div>
      <div class="brand-card"><img src="/css/images/logo/chevrolet.png" alt="쉐보레"><span>쉐보레</span></div>
    </div>

    <div id="foreign" class="brand-grid" style="display: none;">
      <div class="brand-card"><img src="/css/images/logo/benz.png" alt="벤츠"><span>벤츠</span></div>
      <div class="brand-card"><img src="/css/images/logo/bmw.png" alt="BMW"><span>BMW</span></div>
      <div class="brand-card"><img src="/css/images/logo/audi.png" alt="아우디"><span>아우디</span></div>
      <div class="brand-card"><img src="/css/images/logo/vw.png" alt="폭스바겐"><span>폭스바겐</span></div>
      <div class="brand-card"><img src="/css/images/logo/volvo.png" alt="볼보"><span>볼보</span></div>
      <div class="brand-card"><img src="/css/images/logo/mini.png" alt="미니"><span>미니</span></div>
      <div class="brand-card"><img src="/css/images/logo/lexus.png" alt="렉서스"><span>렉서스</span></div>
      <div class="brand-card"><img src="/css/images/logo/jeep.png" alt="지프"><span>지프</span></div>
      <div class="brand-card"><img src="/css/images/logo/ford.png" alt="포드"><span>포드</span></div>
      <div class="brand-card"><img src="/css/images/logo/toyota.png" alt="도요타"><span>도요타</span></div>
      <div class="brand-card"><img src="/css/images/logo/landrover.png" alt="랜드로버"><span>랜드로버</span></div>
      <div class="brand-card"><img src="/css/images/logo/lincoln.png" alt="링컨"><span>링컨</span></div>
     <!-- <div class="brand-card"><img src="/css/images/logo/honda.png" alt="혼다"><span>혼다</span></div>
      <div class="brand-card"><img src="/css/images/logo/peugeot.png" alt="푸조"><span>푸조</span></div>
      <div class="brand-card"><img src="/css/images/logo/cadillac.png" alt="캐딜락"><span>캐딜락</span></div>
      <div class="brand-card"><img src="/css/images/logo/hyundai.png" alt="현대"><span>현대</span></div> 중복으로 예시 -->
    </div>
  </div>

  <button type="button" class="next-button" disabled>다음</button>

  <footer>
    <div class="nav-item">
      <img src="/css/images/my.png" alt="마이">
      <span>마이</span>
    </div>
    <div class="nav-item">
      <img src="/css/images/point.png" alt="포인트">
      <span>포인트</span>
    </div>
    <div class="nav-item">
      <img src="/css/images/benefit.png" alt="혜택">
      <span>혜택</span>
    </div>
    <div class="nav-item">
      <img src="/css/images/menu.png" alt="전체메뉴">
      <span>전체메뉴</span>
    </div>
  </footer>
</body>
</html>
